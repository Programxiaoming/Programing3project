<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>List Users</title>
<link rel="stylesheet" href="./css/style.css">
<link rel="stylesheet" type="text/css" href="/webjars/bootstrap/css/bootstrap.min.css" />
<script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
<script type="text/javascript"
	src="/webjars/bootstrap/js/bootstrap.min.js"></script>
</head>
<body class="light-theme">
<header>
    <div class="container">
      <nav class="navbar">
         <div class="btn-group">
          <button class="theme-btn theme-btn-mobile light">
          </button>
          <button class="nav-menu-btn">
            <ion-icon name="menu-outline"></ion-icon>
          </button>

        </div>
        <div class="flex-wrapper">
          <ul class="desktop-nav">
            <li>
              <a href="/" class="nav-link">Home</a>
            </li>
            <li>
              <a th:href="@{/register}" class="nav-link">Register</a>
            </li>
            <li>
              <a th:href="@{/login}" class="nav-link">Login</a>
            </li>
          </ul>
        </div>
        <div class="mobile-nav">
          <button class="nav-close-btn">
            <ion-icon name="close-outline"></ion-icon>
          </button>
          <div class="wrapper">
            <p class="h3 nav-title">Main Menu</p>
            <ul>
              <li class="nav-item">
                <a href="/" class="nav-link">Home</a>
              </li>
              <li class="nav-item">
                <a th:href="@{/register}" class="nav-link">Register</a>
              </li>
              <li class="nav-item">
                <a th:href="@{/login}" class="nav-link">Login</a>
              </li>
            </ul>
          </div>
          <div>
            <p class="h3 nav-title">Topics</p>
            <ul>
              <li class="nav-item">
                <a href="/users" class="nav-link">List of Users</a>
              </li>
              <li class="nav-item">
                <a href="/orders" class="nav-link">List of Orders</a>
              </li>
              <li class="nav-item">
                <a href="/parks" class="nav-link">List of Parks</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
        <div class="div-welcome">
			<form th:action="@{/logout}" method="post">
				<p>
					Welcome<b>[[${#request.userPrincipal.principal.fullName}]]</b>
				</p>
				<input type="submit" value="Sign Out" />
			</form>
		</div>
		<div class="div-list">
		<ul>
			<li><a th:href="@{/users}">List of Users</a></li>
			<li><a th:href="@{/parks}">List of Parks</a></li>
			<li><a th:href="@{/orders}">List of Orders</a></li>
		</ul>

		</div>
    </div>
</header>
	<div class="container text-center">
		<div>
		</div>
		<div>

			<h3>List of Orders</h3>
			<a href="/newOrder">Create New Order</a> <br />
		</div>
		<div>
			<table class="table table-striped table-bordered">
				<thead class="thead-dark">
					<tr>
						<th>Order ID</th>
						<th>Payment method</th>
						<th>Parks ordered</th>
						<th>User name</th>
						<th>Actions</th>

					</tr>
				</thead>
				<tbody>
				
<!-- 			<td th:text="${order.parks[0].parkName}">parkId</td>		 -->
					<tr th:each="order: ${listOrders}">

						<td th:text="${order.OrderId}">Order ID</td>
						<td th:text="${order.payment}">Payment</td>
						<td><span th:each="park : ${order.parks}"><span th:text="${park.parkName}"></span>  </td>
						<td th:text="${order?.user?.userName}">Username</td>
						<td><a th:href="@{'/editOrder/' + ${order.orderId}}">Edit</a>
							&nbsp;&nbsp;&nbsp; <a
							th:href="@{'/deleteOrder/' + ${order.orderId}}">Delete</a></td>


					</tr>
				</tbody>
			</table>
		</div>
	</div>
	
	 <!--- #FOOTER-->
  <footer>
    <div class="container">
      <div class="wrapper">
        <a href="#" class="footer-logo">
          <img src="./images/leaf.svg" alt="Leaf Team's Logo" width="120" class="logo-light">
        </a>
        <p class="footer-text">
          Leaf Team is looking for good places around Montreal and share with you all.
        </p>
      </div>
      <div class="wrapper">
        <p class="footer-title">Leaf Team Memebers</p>
        <ul>
          <li>
            <a href="#" class="footer-link">Darby, Kevin</a>
          </li>
          <li>
            <a href="#" class="footer-link">Su, Xiaoming</a>
          </li>
          <li>
            <a href="#" class="footer-link">Wu, Wei</a>
          </li>
        </ul>
      </div>
      <div class="wrapper">
        <p class="footer-title">Leaf Team</p>
        <ul>
          <li>
            <a href="#" class="footer-link">Privacy Notice</a>
          </li>
          <li>
            <a href="#" class="footer-link">Cookie Policy</a>
          </li>
          <li>
            <a href="#" class="footer-link">Terms Of Use</a>
          </li>
        </ul>
      </div>
    </div>

    <p class="copyright">
      &copy; Copyright 2022 <a href="#">Leaf Team</a>
    </p>
  </footer>
</body>
</html>